{% extends "base.html" %}

{% block content %}
    <h1>成绩直播</h1>
    <p>支持重复<b>提交</b>刷新成绩，不用刷新网页</p>
    <form action="" method="post" >
        {{ form.hidden_tag() }}

        <div class="dropdown ">
            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                选择轮次(默认第一轮)
            </button> 
            {{ form.rround(size=10) }}
            {% for error in form.rround.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div> 
        
        <div class="dropdown ">
            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                选择项目(默认为333)
            </button>            

            {{ form.item(size=10) }}
            {% for error in form.item.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>

        <div class="dropdown ">
            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                选择性别(默认为所有性别)
            </button>            

            {{ form.gender(size=10) }}
            {% for error in form.item.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>

        <p>{{ form.submit() }}</p>
    </form>

    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            {% for i in labels %}
                <td>{{ i }}</td>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for i in content %}
            <tr>
                {% for j in i %}
                    <td>{{ j }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul>
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
{% endblock %}
